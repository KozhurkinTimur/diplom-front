{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{createCourse,deleteCourse,getAllCourses,updateCourse}from'../api/apiCourse';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Admin=()=>{const[courses,setCourses]=useState([]);useEffect(()=>{const fetchData=async()=>{try{const data=await getAllCourses();setCourses(data);}catch(error){console.error('Error fetch courses');}};fetchData();},[]);const deleteC=id=>deleteCourse(id)?alert(\"Course id = \".concat(id,\" \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D.\")):alert('Что-то пошло не так');const updateC=id=>{const data={id:id,title:document.getElementById(\"title_\"+id).value,text:document.getElementById(\"text_\"+id).value,youtube:document.getElementById(\"youtube_\"+id).value};updateCourse(data)?alert(\"Course id = \".concat(id,\" \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\")):alert(\"Что-то пошло не так\");};const create=()=>{const data={title:document.getElementById(\"title_create\").value,text:document.getElementById(\"text_create\").value,youtube:document.getElementById(\"youtube_create\").value};createCourse(data)?alert(\"Course \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\"):alert(\"Что-то пошло не так\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"divGlav\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"center\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"mr-bot-20\"}),/*#__PURE__*/_jsx(\"div\",{className:\"allCourses\",children:courses.map((value,key)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"divCourse\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"title\",id:\"title_\"+value.id,defaultValue:value.title}),/*#__PURE__*/_jsx(\"textarea\",{className:\"text\",id:\"text_\"+value.id,children:value.text}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",id:\"youtube_\"+value.id,defaultValue:value.youtube}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex space-between\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"butt_adm\",onClick:()=>updateC(value.id),children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"butt_adm\",onClick:()=>deleteC(value.id),children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})]},key);})}),/*#__PURE__*/_jsx(\"hr\",{className:\"mr-bot-20\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"center\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0439 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043A\\u0443\\u0440\\u0441\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"divCourse center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"title\",type:\"text\",id:\"title_create\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"text\",id:\"text_create\"}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",id:\"youtube_create\"}),/*#__PURE__*/_jsx(\"button\",{className:\"butt_adm\",onClick:()=>create(),children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Link,{className:\"buttonAuth mr-top-20\",to:\"/auth\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0439 \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"})]});};export default Admin;","map":{"version":3,"names":["React","useEffect","useState","Link","createCourse","deleteCourse","getAllCourses","updateCourse","jsx","_jsx","jsxs","_jsxs","Admin","courses","setCourses","fetchData","data","error","console","deleteC","id","alert","concat","updateC","title","document","getElementById","value","text","youtube","create","className","children","map","key","defaultValue","onClick","type","to"],"sources":["/Users/timurkozurkin/Documents/Go/diplom-front/src/pages/admin.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { createCourse, deleteCourse, getAllCourses, updateCourse } from '../api/apiCourse';\n\nconst Admin = () => {\n    const [courses, setCourses] = useState([])\n \n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const data = await getAllCourses();\n                setCourses(data)\n            } catch (error) {\n                console.error('Error fetch courses')\n            }\n        }\n\n        fetchData();\n    }, [])\n\n    const deleteC = (id) => deleteCourse(id) ? alert(`Course id = ${id} успешно удален.`) : alert('Что-то пошло не так');\n    \n\n    const updateC = (id) => {\n        const data = {\n            id: id,\n            title: document.getElementById(\"title_\"+id).value,\n            text: document.getElementById(\"text_\"+id).value,\n            youtube: document.getElementById(\"youtube_\"+id).value,\n        }\n\n        updateCourse(data) ? alert(`Course id = ${id} успешно изменен`) : alert(\"Что-то пошло не так\");\n    }\n\n    const create = () => {\n        const data = {\n            title: document.getElementById(\"title_create\").value,\n            text: document.getElementById(\"text_create\").value,\n            youtube: document.getElementById(\"youtube_create\").value,\n        }\n\n        createCourse(data) ? alert(`Course успешно создан`) : alert(\"Что-то пошло не так\");\n    }\n\n    return (\n        <div className='divGlav'>\n            <h2 className='center'>Admin</h2>\n\n            <hr className='mr-bot-20' />\n\n            <div className='allCourses'>\n            {courses.map((value, key) => {\n                    return (\n                        <div className='divCourse' key={key}>\n                            <input className='title' id={\"title_\"+value.id} defaultValue={value.title}/>\n                            <textarea className='text' id={\"text_\"+value.id}>{value.text}</textarea>\n                            <input className='text' id={\"youtube_\"+value.id} defaultValue={value.youtube} />\n                            <div className='d-flex space-between'>\n                                <button className='butt_adm' onClick={() => updateC(value.id)}>Обновить</button>\n                                <button className='butt_adm' onClick={() => deleteC(value.id)} >Удалить</button>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n\n            <hr className='mr-bot-20' />\n\n            <h2 className='center'>Создай новый курс</h2>\n\n            <div className='divCourse center' >\n                <input className='title' type='text' id='title_create' />\n                <textarea className='text' id='text_create'></textarea>\n                <input className='text' type='text' id='youtube_create' />\n                <button className='butt_adm' onClick={() => create()} >Создать</button>\n            </div>\n            \n            <hr />\n\n            <Link className='buttonAuth mr-top-20' to=\"/auth\">\n                Создай нового администратора\n            </Link>\n\n        </div>\n    )\n}\n\nexport default Admin"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,YAAY,CAAEC,YAAY,CAAEC,aAAa,CAAEC,YAAY,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3F,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAc,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAV,aAAa,CAAC,CAAC,CAClCQ,UAAU,CAACE,IAAI,CAAC,CACpB,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAC,CACxC,CACJ,CAAC,CAEDF,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,OAAO,CAAIC,EAAE,EAAKf,YAAY,CAACe,EAAE,CAAC,CAAGC,KAAK,gBAAAC,MAAA,CAAgBF,EAAE,qFAAkB,CAAC,CAAGC,KAAK,CAAC,qBAAqB,CAAC,CAGpH,KAAM,CAAAE,OAAO,CAAIH,EAAE,EAAK,CACpB,KAAM,CAAAJ,IAAI,CAAG,CACTI,EAAE,CAAEA,EAAE,CACNI,KAAK,CAAEC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAACN,EAAE,CAAC,CAACO,KAAK,CACjDC,IAAI,CAAEH,QAAQ,CAACC,cAAc,CAAC,OAAO,CAACN,EAAE,CAAC,CAACO,KAAK,CAC/CE,OAAO,CAAEJ,QAAQ,CAACC,cAAc,CAAC,UAAU,CAACN,EAAE,CAAC,CAACO,KACpD,CAAC,CAEDpB,YAAY,CAACS,IAAI,CAAC,CAAGK,KAAK,gBAAAC,MAAA,CAAgBF,EAAE,0FAAkB,CAAC,CAAGC,KAAK,CAAC,qBAAqB,CAAC,CAClG,CAAC,CAED,KAAM,CAAAS,MAAM,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAd,IAAI,CAAG,CACTQ,KAAK,CAAEC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACC,KAAK,CACpDC,IAAI,CAAEH,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,CAClDE,OAAO,CAAEJ,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KACvD,CAAC,CAEDvB,YAAY,CAACY,IAAI,CAAC,CAAGK,KAAK,yFAAwB,CAAC,CAAGA,KAAK,CAAC,qBAAqB,CAAC,CACtF,CAAC,CAED,mBACIV,KAAA,QAAKoB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACpBvB,IAAA,OAAIsB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cAEjCvB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAE,CAAC,cAE5BtB,IAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAC1BnB,OAAO,CAACoB,GAAG,CAAC,CAACN,KAAK,CAAEO,GAAG,GAAK,CACrB,mBACIvB,KAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBvB,IAAA,UAAOsB,SAAS,CAAC,OAAO,CAACX,EAAE,CAAE,QAAQ,CAACO,KAAK,CAACP,EAAG,CAACe,YAAY,CAAER,KAAK,CAACH,KAAM,CAAC,CAAC,cAC5Ef,IAAA,aAAUsB,SAAS,CAAC,MAAM,CAACX,EAAE,CAAE,OAAO,CAACO,KAAK,CAACP,EAAG,CAAAY,QAAA,CAAEL,KAAK,CAACC,IAAI,CAAW,CAAC,cACxEnB,IAAA,UAAOsB,SAAS,CAAC,MAAM,CAACX,EAAE,CAAE,UAAU,CAACO,KAAK,CAACP,EAAG,CAACe,YAAY,CAAER,KAAK,CAACE,OAAQ,CAAE,CAAC,cAChFlB,KAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACjCvB,IAAA,WAAQsB,SAAS,CAAC,UAAU,CAACK,OAAO,CAAEA,CAAA,GAAMb,OAAO,CAACI,KAAK,CAACP,EAAE,CAAE,CAAAY,QAAA,CAAC,kDAAQ,CAAQ,CAAC,cAChFvB,IAAA,WAAQsB,SAAS,CAAC,UAAU,CAACK,OAAO,CAAEA,CAAA,GAAMjB,OAAO,CAACQ,KAAK,CAACP,EAAE,CAAE,CAAAY,QAAA,CAAE,4CAAO,CAAQ,CAAC,EAC/E,CAAC,GAPsBE,GAQ3B,CAAC,CAEd,CAAC,CAAC,CACD,CAAC,cAENzB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAE,CAAC,cAE5BtB,IAAA,OAAIsB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,8FAAiB,CAAI,CAAC,cAE7CrB,KAAA,QAAKoB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BvB,IAAA,UAAOsB,SAAS,CAAC,OAAO,CAACM,IAAI,CAAC,MAAM,CAACjB,EAAE,CAAC,cAAc,CAAE,CAAC,cACzDX,IAAA,aAAUsB,SAAS,CAAC,MAAM,CAACX,EAAE,CAAC,aAAa,CAAW,CAAC,cACvDX,IAAA,UAAOsB,SAAS,CAAC,MAAM,CAACM,IAAI,CAAC,MAAM,CAACjB,EAAE,CAAC,gBAAgB,CAAE,CAAC,cAC1DX,IAAA,WAAQsB,SAAS,CAAC,UAAU,CAACK,OAAO,CAAEA,CAAA,GAAMN,MAAM,CAAC,CAAE,CAAAE,QAAA,CAAE,4CAAO,CAAQ,CAAC,EACtE,CAAC,cAENvB,IAAA,QAAK,CAAC,cAENA,IAAA,CAACN,IAAI,EAAC4B,SAAS,CAAC,sBAAsB,CAACO,EAAE,CAAC,OAAO,CAAAN,QAAA,CAAC,gKAElD,CAAM,CAAC,EAEN,CAAC,CAEd,CAAC,CAED,cAAe,CAAApB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}